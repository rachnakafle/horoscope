<div class="container">
  <div class="headline">
    <h6>Weekly Horoscope</h6>
    <button
      type="button"
      data-toggle="modal"
      data-target="#newWeekly"
      (click)="newWeekly.assignAllHoros()" 
      class="btn btn-primary"
    >
      +New Weekly
    </button>
  </div>
  <!-- Date Picker Started -->
  <div class="row date-picker mb-3">
    <div class="col-8 text-left">
      <strong>Week:</strong>
      <span class="selected_date">{{ weeklyrange }}</span>
    </div>
    <div class="col-4 text-right">
      <div class="form-group">
        <div class="input-group">
          <input
            (ngModelChange)="dateChanged($event)"
            class="form-control"
            placeholder="yyyy-mm-dd"
            name="dp"
            [(ngModel)]="selected_date"
            ngbDatepicker
            #d="ngbDatepicker"
          />
          <div class="input-group-append">
            <a (click)="d.toggle()">
              <span class="material-icons"> today </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--.date-picker ends-->

  <table class="table table-striped table-mid-content">
    <thead>
      <tr>
        <th scope="col" width="20%">SN</th>
        <th scope="col" width="30%">Nepali</th>
        <th scope="col" width="30%">English</th>
        <th scope="col" width="20%">Action</th>
      </tr>
    </thead>
    <tbody *ngFor="let data of allweekly">
      <tr>
        <td>{{ data.horoscopeId }}</td>
        <td [innerHTML]="data.horoscopeDescriptionNepali"></td>
        <td>{{ data.horoscopeDescriptionEnglish }}</td>
        <td>
          <!-- Edit -->
          <a class="action_link">
            <span
              class="edit_icon material-icons"
              data-toggle="modal"
              data-target="#editWeekly"
              (click)="editWeekly.assignAll(data.id)"
            >
              mode_edit
            </span>
          </a>

          <!-- Delete -->
          <a class="action_link">
            <span
              class="delete_icon material-icons"
              data-toggle="modal"
              data-target="#deleteWeekly"
            >
              delete
            </span>
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<dialog-create-weekly
  #newWeekly
  [weeklyrange]="weeklyrange"
  (getWeeklyHoros)=" getWeeklyByDate()"
></dialog-create-weekly>

<dialog-edit-weekly #editWeekly>
  [weeklyrange]="weeklyrange"
  (getWeeklyHoros)=" getWeeklyByDate()"
</dialog-edit-weekly>
